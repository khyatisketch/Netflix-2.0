{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{SEARCH_MOVIE_URL,options}from'../utils/constant';import{useDispatch,useSelector}from'react-redux';import{setSearchMovieDetails}from'../redux/searchSlice';import{setLoading}from'../redux/userSlice';import MovieList from'./MovieList';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SearchMovie=()=>{const[searchMovie,setSearchMovie]=useState(\"\");const dispatch=useDispatch();const isLoading=useSelector(store=>store.app.isLoading);const{movieName,searchedMovie}=useSelector(store=>store.searchMovie);const submitHandler=async e=>{e.preventDefault();dispatch(setLoading(true));try{var _res$data;const res=await axios.get(\"\".concat(SEARCH_MOVIE_URL).concat(searchMovie,\"&include_adult=false&language=en-US&page=1\"),options);console.log(res.data.results);const movies=res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.results;dispatch(setSearchMovieDetails({searchMovie,movies}));}catch(error){console.log(error);}finally{dispatch(setLoading(false));}setSearchMovie(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pt-[10%] w-[100%]\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,className:\"w-[50%]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between shadow-md border-2 p-2 border-gray-200 rounded-lg w-[100%]\",children:[/*#__PURE__*/_jsx(\"input\",{value:searchMovie,onChange:e=>{setSearchMovie(e.target.value);},className:\"w-full outline-none rounded-md text-lg\",type:\"text\",placeholder:\"Search Movies...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-800 text-white rounded-md px-4 py-2\",children:isLoading?\"loading...\":\"Search\"})]})})}),searchedMovie.length>0?/*#__PURE__*/_jsx(MovieList,{title:movieName,searchMovie:true,movies:searchedMovie}):/*#__PURE__*/_jsx(\"h1\",{children:\"Movie Not Found!!\"})]});};export default SearchMovie;","map":{"version":3,"names":["axios","React","useState","SEARCH_MOVIE_URL","options","useDispatch","useSelector","setSearchMovieDetails","setLoading","MovieList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchMovie","searchMovie","setSearchMovie","dispatch","isLoading","store","app","movieName","searchedMovie","submitHandler","e","preventDefault","_res$data","res","get","concat","console","log","data","results","movies","error","children","className","onSubmit","value","onChange","target","type","placeholder","length","title"],"sources":["C:/Users/HP/Desktop/Netflix2.0/netflix/src/components/SearchMovie.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport { SEARCH_MOVIE_URL, options } from '../utils/constant';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSearchMovieDetails } from '../redux/searchSlice';\r\nimport { setLoading } from '../redux/userSlice';\r\nimport MovieList from './MovieList';\r\n\r\nconst SearchMovie = () => {\r\n    const [searchMovie, setSearchMovie] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n    const isLoading = useSelector(store => store.app.isLoading);\r\n    const { movieName, searchedMovie } = useSelector(store => store.searchMovie);\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        dispatch(setLoading(true));\r\n        try {\r\n            const res = await axios.get(`${SEARCH_MOVIE_URL}${searchMovie}&include_adult=false&language=en-US&page=1`, options);\r\n            console.log(res.data.results);\r\n            const movies = res?.data?.results;\r\n            dispatch(setSearchMovieDetails({ searchMovie, movies }));\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            dispatch(setLoading(false));\r\n        }\r\n        setSearchMovie(\"\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='flex justify-center pt-[10%] w-[100%]'>\r\n                <form onSubmit={submitHandler} className='w-[50%]'>\r\n                    <div className='flex justify-between shadow-md border-2 p-2 border-gray-200 rounded-lg w-[100%]'>\r\n                        <input value={searchMovie} onChange={(e) => { setSearchMovie(e.target.value) }} className='w-full outline-none rounded-md text-lg' type=\"text\" placeholder=\"Search Movies...\" />\r\n                        <button className='bg-red-800 text-white rounded-md px-4 py-2'>{isLoading ? \"loading...\" : \"Search\"}</button>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n            {\r\n                searchedMovie.length > 0 ? (<MovieList title={movieName} searchMovie={true} movies={searchedMovie} />) : (<h1>Movie Not Found!!</h1>)\r\n            }\r\n\r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default SearchMovie"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}